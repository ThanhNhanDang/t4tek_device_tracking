<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_t4tek_picking_internal_search" model="ir.ui.view">
        <field name="name">t4tek.stock.picking.internal.search</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_internal_search" />
        <field name="arch" type="xml">
            <filter name="delivery" position="attributes">
                <attribute name="string">Phiếu xuất kho</attribute>
            </filter>
        </field>
    </record>

    <record id="action_t4tek_picking_tree_incoming" model="ir.actions.act_window">
        <field name="name">Phiếu Nhập Kho</field>
        <field name="res_model">stock.picking</field>
        <field name="path">receipt</field>
        <field name="view_mode">list,kanban,form,calendar,activity</field>
        <field name="domain">[('is_device_tracking', '=', True)]</field>
        <field name="context">{'contact_display': 'partner_address', 'restricted_picking_type_code':  
            'incoming', 'search_default_reception': 1, 'is_oper':True, 'from_menu':1, 'default_is_device_tracking': True}</field>
        <field name="search_view_id" ref="stock.view_picking_internal_search" />
    </record>

    <record id="action_t4tek_picking_tree_outgoing" model="ir.actions.act_window">
        <field name="name">Phiếu Xuất Kho</field>
        <field name="res_model">stock.picking</field>
        <field name="path">deliverie</field>
        <field name="view_mode">list,kanban,form,calendar,activity</field>
        <field name="domain">[('is_device_tracking', '=', True)]</field>
        <field name="context">{'contact_display': 'partner_address', 'restricted_picking_type_code': 
            'outgoing', 'search_default_delivery': 1, 'is_oper':True, 'from_menu':1, 'default_is_device_tracking': True}</field>
        <field name="search_view_id" ref="stock.view_picking_internal_search" />
    </record>

    <record id="view_t4tek_picking_form" model="ir.ui.view">
        <field name="name">t4tek.stock.picking.form</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form" />
        <field name="arch" type="xml">
            <button name="action_confirm" position="replace">
                <button name="action_confirm" invisible="state != 'draft' or context.get('is_oper',False)" string="Đánh dấu việc cần làm" type="object" class="oe_highlight" groups="base.group_user" data-hotkey="q"/>
                <field name="stock_receipt_id" invisible="1"/>
                <button name="action_generate_cards" invisible="not stock_receipt_id or state in ['cancel','done']" string="Cấp thẻ" type="object" class="oe_highlight"  data-hotkey="q"/>
                <button name="action_scan_cards" invisible="stock_receipt_id or state in ['cancel','done']" string="Quét" type="object" class="oe_highlight"  data-hotkey="q">
                    Quét
                </button>
            </button>
            <field name="note" position="after">
                <label for="image_tracking">Hình ảnh xác minh:</label>
                <field name="image_tracking" widget="image" readonly="1"/>
            </field>
        </field>
    </record>
</odoo>